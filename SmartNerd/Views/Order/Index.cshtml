@model List<SmartNerd.Models.Order.Order>

@{
    ViewBag.Title = "Orders";
}

<h2>Order Summary</h2>

@if(Model.Count == 0) {
    <p>You haven't made any orders yet!</p>
} else {
    <table border="1">
        <tr align="center">
            <th>Order Date</th>
            <th>Order Amount</th>
            <th>Products</th>
            <th>Address</th>
            <th>Status</th>
        </tr>
        @foreach(var order in Model) {
            <tr align="center">
                <td>@order.DatePlaced.ToString()</td>
                <td>$@order.Total.ToString()</td>
                <td>
                    <table border="1">
                        <tr align="center">
                            <th>Product Name</th>
                            <th>Unit Price</th>
                            <th>Quantity</th>
                        </tr>
                        @foreach(var product in order.Products) {
                            <tr align="center">
                                <td>@product.Name</td>
                                <td>$@product.Price.ToString()</td>
                                <td>@product.Quantity.ToString()</td>
                            </tr>
                        }
                    </table>
                </td>
                <td>
                    <div>
                        <p>Name: @order.Address.FullName</p>
                        <p>Line 1: @order.Address.Line1</p>
                        <p>Line 2: @order.Address.Line2</p>
                        <p>City: @order.Address.City</p>
                        <p>Country: @order.Address.County</p>
                        <p>State/Province: @order.Address.StateOrProvince</p>
                        <p>Zip Code: @order.Address.ZipCode</p>
                    </div>
                </td>
                <td><p>Your order has been processed</p></td>
            </tr>
        }
    </table>
}
